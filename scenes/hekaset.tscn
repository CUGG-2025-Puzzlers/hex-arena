[gd_scene format=3 uid="uid://bvdkuf6c1gdxs"]

[ext_resource type="Script" uid="uid://ba0dnoofhsew8" path="res://scenes/player.gd" id="1_dmjat"]
[ext_resource type="Script" uid="uid://d3ga8nsg6e61v" path="res://scripts/multiplayer_input.gd" id="2_hkro6"]
[ext_resource type="Texture2D" uid="uid://cuk2faeygjffr" path="res://assets/textures/sprite_sheet 3.png" id="3_dmjat"]
[ext_resource type="Script" uid="uid://c1fx17yoxje1h" path="res://scripts/hpManaStats.gd" id="4_uajpi"]
[ext_resource type="Script" uid="uid://cciheadly5brc" path="res://scripts/abilities/ghost_ability.gd" id="7_n5ll0"]
[ext_resource type="PackedScene" uid="uid://dbkuln5v5ie2q" path="res://scenes/overhead_hp.tscn" id="8_b15l6"]
[ext_resource type="Script" path="res://scripts/range_drawing.gd" id="9_sniku"]
[ext_resource type="Texture2D" uid="uid://b8gp3sb0ms3sd" path="res://assets/textures/cloud_noise.tres" id="10_hkro6"]

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_smehm"]
properties/0/path = NodePath(".:player_id")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath(".:position")
properties/1/spawn = true
properties/1/replication_mode = 1

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_ur7pv"]
properties/0/path = NodePath("InputSynchronizer:direction")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath("InputSynchronizer:mouse_pos")
properties/1/spawn = true
properties/1/replication_mode = 1
properties/2/path = NodePath("InputSynchronizer:use_ability")
properties/2/spawn = true
properties/2/replication_mode = 1

[sub_resource type="RectangleShape2D" id="RectangleShape2D_g2els"]
size = Vector2(38, 11)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_d2wvv"]
animation = &"stop_up"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3v2ag"]
animation = &"stop_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_jej6c"]
animation = &"stop_up_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_f1ej7"]
animation = &"stop_down_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oprun"]
animation = &"stop_down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_a8ls1"]
animation = &"stop_up_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qfm1y"]
animation = &"stop_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fulsm"]
animation = &"stop_down_right"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_qhqgy"]
blend_point_0/node = SubResource("AnimationNodeAnimation_d2wvv")
blend_point_0/pos = Vector2(0, -1)
blend_point_1/node = SubResource("AnimationNodeAnimation_3v2ag")
blend_point_1/pos = Vector2(-1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_jej6c")
blend_point_2/pos = Vector2(-0.7, -0.7)
blend_point_3/node = SubResource("AnimationNodeAnimation_f1ej7")
blend_point_3/pos = Vector2(-0.7, 0.7)
blend_point_4/node = SubResource("AnimationNodeAnimation_oprun")
blend_point_4/pos = Vector2(0, 1)
blend_point_5/node = SubResource("AnimationNodeAnimation_a8ls1")
blend_point_5/pos = Vector2(0.7, -0.7)
blend_point_6/node = SubResource("AnimationNodeAnimation_qfm1y")
blend_point_6/pos = Vector2(1, 0)
blend_point_7/node = SubResource("AnimationNodeAnimation_fulsm")
blend_point_7/pos = Vector2(0.7, 0.7)
sync = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qhqgy"]
animation = &"down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dqkch"]
animation = &"left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qlg0r"]
animation = &"up_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tuyoq"]
animation = &"down_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fjrip"]
animation = &"up"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_smehm"]
animation = &"up_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ur7pv"]
animation = &"right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y4r1p"]
animation = &"down_right"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_d2wvv"]
blend_point_0/node = SubResource("AnimationNodeAnimation_qhqgy")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_dqkch")
blend_point_1/pos = Vector2(-1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_qlg0r")
blend_point_2/pos = Vector2(-0.6, -0.6)
blend_point_3/node = SubResource("AnimationNodeAnimation_tuyoq")
blend_point_3/pos = Vector2(-0.6, 0.6)
blend_point_4/node = SubResource("AnimationNodeAnimation_fjrip")
blend_point_4/pos = Vector2(0, -1)
blend_point_5/node = SubResource("AnimationNodeAnimation_smehm")
blend_point_5/pos = Vector2(0.6, -0.6)
blend_point_6/node = SubResource("AnimationNodeAnimation_ur7pv")
blend_point_6/pos = Vector2(1, 0)
blend_point_7/node = SubResource("AnimationNodeAnimation_y4r1p")
blend_point_7/pos = Vector2(0.6, 0.6)
blend_mode = 1
sync = true

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_3v2ag"]
states/Stop/node = SubResource("AnimationNodeBlendSpace2D_qhqgy")
states/Stop/position = Vector2(627.5502, 60.22751)
states/Walk/node = SubResource("AnimationNodeBlendSpace2D_d2wvv")
states/Walk/position = Vector2(390.12512, 87.716415)
graph_offset = Vector2(8.167633, -52.81495)

[sub_resource type="Animation" id="Animation_hkro6"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_mkho1"]
resource_name = "down"
loop_mode = 1
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [3, 4, 3, 2, 1, 0, 1, 2]
}

[sub_resource type="Animation" id="Animation_sniku"]
resource_name = "down_left"
loop_mode = 1
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [38, 39, 38, 37, 36, 35, 36, 37]
}

[sub_resource type="Animation" id="Animation_jorvl"]
resource_name = "down_right"
loop_mode = 1
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [33, 34, 33, 32, 31, 30, 31, 32]
}

[sub_resource type="Animation" id="Animation_n5ll0"]
resource_name = "left"
loop_mode = 1
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [28, 29, 28, 27, 26, 25, 26, 27]
}

[sub_resource type="Animation" id="Animation_868w3"]
resource_name = "right"
loop_mode = 1
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [23, 24, 23, 22, 21, 20, 21, 22]
}

[sub_resource type="Animation" id="Animation_dmjat"]
resource_name = "up"
loop_mode = 1
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [8, 9, 8, 7, 6, 5, 6, 7]
}

[sub_resource type="Animation" id="Animation_pcpsv"]
resource_name = "up_left"
loop_mode = 1
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [18, 19, 18, 17, 16, 15, 16, 17]
}

[sub_resource type="Animation" id="Animation_uajpi"]
resource_name = "up_right"
loop_mode = 1
step = 0.125
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [13, 14, 13, 12, 11, 10, 11, 12]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_hkro6"]
_data = {
&"RESET": SubResource("Animation_hkro6"),
&"down": SubResource("Animation_mkho1"),
&"down_left": SubResource("Animation_sniku"),
&"down_right": SubResource("Animation_jorvl"),
&"left": SubResource("Animation_n5ll0"),
&"right": SubResource("Animation_868w3"),
&"up": SubResource("Animation_dmjat"),
&"up_left": SubResource("Animation_pcpsv"),
&"up_right": SubResource("Animation_uajpi")
}

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_fjrip"]
particle_flag_disable_z = true
spread = 180.0
initial_velocity_min = 80.0
initial_velocity_max = 150.0
gravity = Vector3(0, 0, 0)
scale_min = 2.0
scale_max = 4.0
color = Color(0.959805, 0.99, 0.3861, 1)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_dmjat"]
radius = 8.0
height = 62.0

[node name="Player" type="CharacterBody2D" unique_id=398475662 node_paths=PackedStringArray("animation_tree", "animation_player")]
collision_layer = 2
collision_mask = 7
script = ExtResource("1_dmjat")
base_speed = 250.0
animation_tree = NodePath("AnimationTree")
animation_player = NodePath("AnimationPlayer2")
radius = 2

[node name="PlayerSynchronizer" type="MultiplayerSynchronizer" parent="." unique_id=8959142]
replication_config = SubResource("SceneReplicationConfig_smehm")

[node name="InputSynchronizer" type="MultiplayerSynchronizer" parent="." unique_id=638878176]
unique_name_in_owner = true
replication_config = SubResource("SceneReplicationConfig_ur7pv")
script = ExtResource("2_hkro6")

[node name="NameLabel" type="Label" parent="." unique_id=123225415]
unique_name_in_owner = true
offset_left = -75.0
offset_top = -115.0
offset_right = 75.0
offset_bottom = -92.0
pivot_offset_ratio = Vector2(0.5, 0.5)
horizontal_alignment = 1
vertical_alignment = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="." unique_id=529297323]
shape = SubResource("RectangleShape2D_g2els")

[node name="Sprite2D" type="Sprite2D" parent="." unique_id=1328122983]
position = Vector2(-4.7683716e-07, -34)
scale = Vector2(0.05, 0.05)
texture = ExtResource("3_dmjat")
hframes = 7
vframes = 6
region_enabled = true
region_rect = Rect2(1458.6145, 19.482422, 9376.86, 10761.685)

[node name="StatsComponent" type="Node" parent="." unique_id=20242128]
script = ExtResource("4_uajpi")
metadata/_custom_type_script = "uid://c1fx17yoxje1h"

[node name="AnimationTree" type="AnimationTree" parent="." unique_id=1235461056]
tree_root = SubResource("AnimationNodeStateMachine_3v2ag")
anim_player = NodePath("../AnimationPlayer2")
parameters/Stop/blend_position = Vector2(0, 0)
parameters/Walk/blend_position = Vector2(0, 0)

[node name="AnimationPlayer2" type="AnimationPlayer" parent="." unique_id=1018950331]
libraries/ = SubResource("AnimationLibrary_hkro6")

[node name="Ability" type="Node" parent="." unique_id=679062097]
unique_name_in_owner = true
script = ExtResource("7_n5ll0")
metadata/_custom_type_script = "uid://cciheadly5brc"

[node name="FlashAnimation" type="GPUParticles2D" parent="." unique_id=409151462]
visible = false
position = Vector2(-2.842171e-14, -3.8146973e-06)
scale = Vector2(0.99999994, 0.99999994)
emitting = false
amount = 13
lifetime = 0.3
one_shot = true
process_material = SubResource("ParticleProcessMaterial_fjrip")

[node name="Drawing range" type="Node2D" parent="." unique_id=771124319]
show_behind_parent = true
script = ExtResource("9_sniku")

[node name="Area2D" type="Area2D" parent="." unique_id=1304947050]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D" unique_id=495044529]
position = Vector2(-1, -34)
shape = SubResource("CapsuleShape2D_dmjat")

[node name="CPUParticles2D" type="CPUParticles2D" parent="Area2D" unique_id=1037178925]
modulate = Color(0.6, 0.13333334, 0.13333334, 1)
position = Vector2(0, -40)
emitting = false
amount = 15
texture = ExtResource("10_hkro6")
lifetime = 0.52
one_shot = true
explosiveness = 0.71
randomness = 0.26
lifetime_randomness = 0.67
emission_shape = 1
emission_sphere_radius = 15.0
direction = Vector2(0, -1)
spread = 80.57
initial_velocity_min = 56.66
initial_velocity_max = 178.47

[node name="OverheadHp" parent="." unique_id=1343235313 instance=ExtResource("8_b15l6")]
offset_left = -50.0
offset_top = -85.0
offset_right = 50.0
offset_bottom = -76.0
